# 79.10 Common Software Architectural Patterns in a nutshelle.82
## <a name="index"></a> 目录
- [引子](#start)
- [正文](#main)
- [1. Layered pattern](#layered)
- [2. Client-server pattern](#client-server)
- [什么是架构模式？](#architecture)
  - [title11](#title11)
- [参考资料](#reference)


## <a name="start"></a> 引子
在看 [Scalable Frontend 1 — Architecture Fundamentals][url-2] 的时候，想到应该不止这一种分层模式吧，就去找了些资料，翻译记录。

原文：[10 Common Software Architectural Patterns in a nutshelle][url-1]

## <a name="main"></a> 正文
有没有想过大型企业级系统是如何设计的？在主要软件开发开始之前，我们必须选择一个合适的架构，它将为我们提供所需的功能和质量特性。因此，我们应该理解不同的架构，在将它们应用到我们的设计中之前。

![79-patterns][url-local-1]

## <a name="architecture"></a> 什么是架构模式？
根据维基百科，

> **架构模式**是一种通用的、可重用的解决方案，用于解决在特定环境下软件架构中的常见问题。架构模式类似于软件设计模式，但范围更广。

在这篇文章中，我将简要解释以下 10 种常见的架构模式及其用法、优势和劣势。

- 分层模式（Layered pattern）
- 客户端-服务器模式（Client-server pattern）
- 主从模式（Master-slave pattern）
- 管道过滤模式（Pipe-filter pattern）
- 代理模式（Broker pattern）
- 点对点模式（Peer-to-peer pattern）
- 事件总线模式（Event-bus pattern）
- MVC 模式（Model-view-controller pattern）
- 黑板模式（Blackboard pattern）
- 解析器模式（Interpreter pattern）



## <a name="layered"></a> 1.分层模式（Layered pattern）
这种模式可以用于构造可以分解为子任务组的程序，每个子任务都处于特定的抽象级别。每层都为下一个更高层提供服务。

一般信息系统里最常见的4个层次如下。
- **呈现层**（也称为 **UI 层**）
- **应用层**（也称为**服务层**）
- **业务逻辑层**（也称为**定义域层**）
- **数据访问层**（也称为**持久层**）

### 应用
- 一般桌面应用程序。
- 电子商务 web 应用程序。

![79-layer-pattern][url-local-2]

## <a name="client-server"></a> 1.客户端-服务器模式（Client-server pattern）
这种模式由两个部分组成：一个**服务器**和多个**客户端**。服务器组件将为多个客户端组件提供服务。客户端向服务器请求服务，服务器向这些客户机提供相关服务。此外，服务器继续侦听客户端请求。

### 应用
- 在线应用程序，例如电子邮件、文档共享和开账户等。

![79-client-server][url-local-3]

## <a name="master-slave"></a> 3.主从模式（Master-slave pattern）
这种模式由两个部分组成：**主**（Master）和**从**（slave）。主组件在相同的从组件之间分配工作，并根据从组件返回的结果计算最终结果。

### 应用
- 在数据库复制中，主数据库被视为权威源，从数据库与主数据库同步。
- 连接到计算机系统（主驱动器和从驱动器）总线的外围设备。

![79-master-slave][url-local-4]

## <a name="pipe-filter"></a> 4.管道过滤模式（Pipe-filter pattern）
此模式可用于构造生成和处理数据流的系统。每个处理步骤都包含在**过滤器**组件中。要处理的数据通过**管道**传递。这些管道可用于缓冲或同步。

### 应用
- 编译器。连续过滤器执行词法分析、解析、语义分析和代码生成。
- 生物信息学的工作流程。


## <a name="broker"></a> 5.代理模式（Broker pattern）
这种模式用于构造具有解耦组件的分布式系统。这些组件可以通过远程服务调用相互合作。代理组件负责协调组件之间的通信。

服务器将其功能（服务和特性）发布给代理。客户端向代理请求服务，然后代理从注册表中将客户端重定向到合适的服务。

### 应用
- 消息代理软件，例如 Apache ActiveMQ, Apache Kafka, RabbitMQ and JBoss Messaging.


## <a name="broker"></a> 6.点对点模式（Peer-to-peer pattern）
在这种模式中，单个组件称为**对等点**。对等点既可以作为**客户端**，向其它对等点请求服务，也可以作为**服务器**，向其它对等点提供服务。对等点可以充当客户端或服务器，也可以同时充当两者，并且可以随时间动态地更改其角色。

### 应用
- 文件共享网络，例如 Gnutella 和 G2 。
- 多媒体协议，例如 P2PTV 和 PDTP 。
- 基于数字加密货币的产品，如比特币和区块链 。

## <a name="event-bus"></a> 7.事件总线模式（Event-bus pattern）




<div align="right"><a href="#index">Back to top :arrow_up:</a></div>

## <a name="reference"></a> 参考资料
- [10 Common Software Architectural Patterns in a nutshelle][url-1]

[url-1]:https://towardsdatascience.com/10-common-software-architectural-patterns-in-a-nutshell-a0b47a1e9013
[url-2]:https://github.com/XXHolic/blog/issues/78

[url-local-1]:./images/79/patterns.png
[url-local-2]:./images/79/layer-patterns.png
[url-local-3]:./images/79/client-server-pattern.png
[url-local-4]:./images/79/master-slave.png

<details>
<summary>:wastebasket:</summary>

![n-poster][url-local-poster]

</details>

[url-book]:https://book.douban.com/subject/26916012/
[url-local-poster]:./images/n/poster.jpg
