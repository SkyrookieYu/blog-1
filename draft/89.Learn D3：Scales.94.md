# 89.Learn D3： Scales.94

## <a name="start"></a> 引子
继 [Learn D3: Data][url-pre] 第三篇，只是英文翻译，可修改代码的部分用静态图片替代了，想要实时交互请阅读原文。

- 原文：[Learn D3: Scales][url-1]
- 版本：Published Mar 24, 2020

## <a name="title1"></a> 正文
在 D3 数据图形所有工具中，最基本的是比例，它将数据的抽象维度映射到可视变量。

为了尝试，考虑这个小（但美味！）水果的数据集。

![89-1][url-local-1]

我们通常认为维度是空间的，比如三维空间中的位置，但抽象维度不一定是空间的。它可能是定量的，例如上面每个水果的 `count` 。或者它可能是名义上的，比如一个 `name` 。

![89-2][url-local-2]
![89-3][url-local-3]

在 [Semiology of Graphics][url-2] 中，Jacques Bertin 描述了点和线等图形标记如何“表示差异(≠)、 相似性(≡)、 量化顺序（Q）或非量化顺序（O），并且表示组、层次或垂直移动”可以使用位置、大小、颜色等来表示。这些图形标记属性是我们的视觉变量。

![89-4][url-local-4]

与许多可视化一样，下面的条形图将两个抽象维度映射到两个可视变量：`name` 维度映射到条形图的 *y* 位置，而 `count` 维度映射到 *x* 位置。这些映射由下面的 *x* 和 *y* 比例实现。

![89-5][url-local-5]
![89-6][url-local-6]
![89-7][url-local-7]

（请随意编辑代码，看看会发生什么！）

D3 比例有多种类型。使用哪一种取决于抽象维度（定量的还是象征性的？）和视觉变量（位置或颜色？）。这里 *x* 是[线性比例][]，因为 `count` 是定量的，条形长度应该和数值成比例，而 *y* 是带状刻度，因为 `name` 是象征性的，条形厚厚的。

![89-8][url-local-8]
![89-9][url-local-9]
![89-10][url-local-10]
![89-11][url-local-11]
![89-12][url-local-12]
![89-13][url-local-13]
![89-14][url-local-14]
![89-15][url-local-15]
![89-16][url-local-16]
![89-17][url-local-17]
![89-18][url-local-18]
![89-19][url-local-19]



## 附录



## <a name="reference"></a> 参考资料
- [Learn D3: Scales][url-1]

[url-pre]:https://github.com/XXHolic/blog/issues/93
[url-1]:https://observablehq.com/@d3/learn-d3-scales?collection=@d3/learn-d3
[url-2]:https://book.douban.com/subject/4733932/


[url-3]:https://observablehq.com/@observablehq/file-attachments
[url-4]:https://observablehq.com/@observablehq/keyboard-shortcuts
[url-5]:https://developer.mozilla.org/en-US/docs/Web/API/Blob
[url-6]:https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/ArrayBuffer
[url-7]:https://observablehq.com/@d3/d3-autotype
[url-8]:https://2ality.com/2012/09/expressions-vs-statements.html
[url-9]:https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/return
[url-10]:https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/yield
[url-11]:https://github.com/d3/d3-dsv/blob/master/README.md#autoType
[url-12]:https://observablehq.com/@d3/histogram
[url-13]:https://observablehq.com/@observablehq/how-observable-runs
[url-14]:https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/from
[url-15]:https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/map



[url-local-1]:./images/89/1.png
[url-local-2]:./images/89/2.png
[url-local-3]:./images/89/3.png
[url-local-4]:./images/89/4.png
[url-local-5]:./images/89/5.png
[url-local-6]:./images/89/6.png
[url-local-7]:./images/89/7.png
[url-local-8]:./images/89/8.png
[url-local-9]:./images/89/9.png
[url-local-10]:./images/89/10.png
[url-local-11]:./images/89/11.png
[url-local-12]:./images/89/12.png
[url-local-13]:./images/89/13.png
[url-local-14]:./images/89/14.png
[url-local-15]:./images/89/15.png
[url-local-16]:./images/89/16.png
[url-local-17]:./images/89/17.png
[url-local-18]:./images/89/18.png
[url-local-19]:./images/89/19.png

<details>
<summary>:wastebasket:</summary>

成功获得芳心！

特莉丝比叶奈法要温和很多。

这杰洛特真是全都要啊。

![89-poster][url-local-poster]

</details>

[url-local-poster]:./images/89/poster.jpg
