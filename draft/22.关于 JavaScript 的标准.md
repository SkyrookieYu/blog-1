# 关于 JavaScript 的标准
## 想法
前不久在一次分享中，听到了关于 JavaScript 标准的内容，期间还提到了 Babel 对于标准的支持。后来在看 Babel 文档的时候，看了关于 preset 的设置，不同的取值对应了不同阶段的 JavaScript，心里也有一些疑问，就顺便总结一下。

## 标准的历史
### [ECMAScript 1.0](http://www.ecma-international.org/publications/files/ECMA-ST-ARCH/ECMA-262,%201st%20edition,%20June%201997.pdf)
1996年3月，Navigator 2.0 浏览器正式内置了 JavaScript 脚本语言。

1996年8月，微软模仿 JavaScript 开发了一种相近的语言，取名为JScript（JavaScript 是 Netscape 的注册商标，微软不能用），首先内置于IE 3.0。Netscape 公司面临丧失浏览器脚本语言的主导权的局面。

1996年11月，Netscape 公司决定将 JavaScript 提交给欧洲计算机制造商协会 [ECMA](http://www.ecma-international.org/)（European Computer Manufacturers Association），希望 JavaScript 能够成为国际标准，以此抵抗微软。该协会指定 39 号技术委员会（TC39，Technical Committee #39）负责“标准化一种通用、跨平台、供应商中立的脚本语言的语法和语义”。TC39 由来自 Netscape、Sun、微软、Borland 及其他关注脚本语言发展的公司的程序员组成。该委员会定期开会，所有的邮件讨论和会议记录，都是公开的。

1997年7月，ECMA 组织发布262号标准文件（ECMA-262）的第一版，规定了浏览器脚本语言的标准，并将这种语言称为 ECMAScript（发音为“ek-ma-script”）。这个版本就是 ECMAScript 1.0 版。

### [ECMAScript 2.0](http://www.ecma-international.org/publications/files/ECMA-ST-ARCH/ECMA-262,%201st%20edition,%20June%201997.pdf)
1998年6月，ECMAScript 2.0版发布。这个版本是为了解决 ECMA 和 ISO/IEC（International Organization for Standardization and International Electrotechnical Commission，国标标准化组织和国际电工委员会） 在 JavaScript 标准上的不一致性。JavaScript 语言本身并没有什么改动。这个版本有个有意思的事情是：在编译时并没有捕获错误，而是留在解释器处理。这个是因为异常处理当时还不是语言的一部分。

### [ECMAScript 3.0](http://www.ecma-international.org/publications/files/ECMA-ST-ARCH/ECMA-262,%203rd%20edition,%20December%201999.pdf)
1999年12月，ECMAScript 3.0版发布，成为 JavaScript 的通行标准，得到了广泛支持。这使得 ECMAScript 3.0 成为许多库支持的最低版本。这是第一次重大的变动。这个版本引入的功能有：
- 正则表达式
- do-while 模块
- 异常处理和 try/catch 模块
- 字符串和数组更多的内置处理方法
- 数字输出格式化
- in 和 instanceof 操作符
- 更好的错误处理
在这一年，还有一个很重要的事情发生，那就是 AJAX 的诞生，IE 5 部署了 XMLHttpRequest 接口，允许 JavaScript 发出 HTTP 请求，为后来大行其道的 AJAX 应用创造了条件。

### ECMAScript 3.1 and 4
2007年10月，ECMAScript 4.0 版草案发布，对 3.0 版做了大幅升级，预计次年8月发布正式版本。草案发布后，由于4.0版的目标过于激进，各方对于是否通过这个标准，发生了严重分歧。以 Yahoo、Microsoft、Google 为首的大公司，反对 JavaScript 的大幅升级，主张小幅改动；以 JavaScript 创造者 Brendan Eich 为首的 Mozilla 公司，则坚持当前的草案。

2008年7月，由于对于下一个版本应该包括哪些功能，各方分歧太大，争论过于激进，ECMA 开会决定，中止 ECMAScript 4.0 的开发（即废除了这个版本），将其中涉及现有功能改善的一小部分，发布为 ECMAScript 3.1，而将其他激进的设想扩大范围，放入以后的版本，由于会议的气氛，该版本的项目代号起名为 Harmony（和谐）。会后不久，为了避免疑惑，将ECMAScript 3.1 就改名为 ECMAScript 5。

比较有意思的是，还是有公司实施了对 ECMAScript 4 的支持，就是 Adobe 公司。ActionScript 作为 Flash 开发的脚本语言，就是基于 ECMAScript 4 早期草案设计。

### ECMAScript 5.0
2009年12月，ECMAScript 5.0版 正式发布。ECMAScript 5.0相对于ECMAScript 3.0 是一个比较温和的更新，它包含有：
- Getter/setters
- 在数组和对象字面量中追踪逗号
- 保留字作为属性名
- 新的 `Object` 方法（例如 create, defineProperty, keys, seal, freeze, getOwnPropertyNames 等等）
- 新的 `Array` 方法（例如 isArray, indexOf, every, some, map, filter, reduce 等等）
- `String.prototype.trim` 属性允许使用
- 新的 `Date` 方法（toISOString, now, toJSON）
- `bind` 方法
- JSON
- 不变的全局对象（undefined, NaN, Infinity）
- 严格模式
- 其它细节的改变（例如 `parseInt` 会忽略开头的0）
所有的更改都不需要语法改变。

Harmony 项目则一分为二，一些较为可行的设想定名为 JavaScript.next 继续开发，后来演变成 ECMAScript 6；一些不是很成熟的设想，则被视为 JavaScript.next.next，在更远的将来再考虑推出。TC39 的总体考虑是，ECMAScript 5 与 ECMAScript 3 基本保持兼容，较大的语法修正和新功能加入，将由 JavaScript.next 完成。当时，JavaScript.next 指的是ECMAScript 6。第六版发布以后，将指 ECMAScript 7。TC39 预计，ECMAScript 5 会在2013年的年中成为 JavaScript 开发的主流标准，并在此后五年中一直保持这个位置。

## ECMAscript 5.1
2011年6月，ECMAscript 5.1版发布，并且成为 ISO 国际标准（ISO/IEC 16262:2011）。这个版本澄清了标准中的一些含糊不清的点，没有任何新的功能。到了2012年底，所有主要浏览器都支持 ECMAScript 5.1版的全部功能。

## ECMAScript 6
2015年6月，ECMAScript 6 正式发布，并且更名为“ECMAScript 2015”。这是因为 TC39 委员会计划，以后每年发布一个 ECMAScript 的版本，下一个版本在2016年发布，称为”ECMAScript 2016”，2017年发布“ECMAScript 2017”，以此类推。具体的变动可见[ECMAScript 6 入门](http://es6.ruanyifeng.com/#docs/class)或者[A Rundown of JavaScript 2015 features](https://auth0.com/blog/a-rundown-of-es6-features/)。


## 标准的几个阶段

## 参考资料
- [github-babel][url-babel]
- [git-ecma262](https://github.com/tc39/ecma262)
- [git-proposals](https://github.com/tc39/proposals)
- [The TC39 Process](https://tc39.github.io/process-document/)
- [JavaScript 语言的历史](https://wangdoc.com/javascript/basic/history.html)
- [Javascript诞生记](http://www.ruanyifeng.com/blog/2011/06/birth_of_javascript.html)
- [The Super-Brief History of JavaScript Frameworks For Those Somewhat Interested](https://dev.to/_adam_barker/the-super-brief-history-of-javascript-frameworks-for-those-somewhat-interested-3m82)
- [A Brief History of JavaScript](https://auth0.com/blog/a-brief-history-of-javascript/)
- [JavaScript](https://en.wikipedia.org/wiki/JavaScript)
- [A Rundown of JavaScript 2015 features](https://auth0.com/blog/a-rundown-of-es6-features/)
<!-- 参考资料 -->
[url-babel]:https://github.com/babel/babel
[url-babel-github-io]:https://babeljs.io/
[url-babel-user-handbook]:https://github.com/jamiebuilds/babel-handbook/blob/master/translations/zh-Hans/user-handbook.md
[url-webpack]:https://webpack.js.org/concepts/
[url-blog1]:http://www.hangge.com/blog/cache/detail_1688.html

